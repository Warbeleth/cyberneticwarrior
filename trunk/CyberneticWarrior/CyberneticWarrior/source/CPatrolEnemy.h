//////////////////////////////////////////////////////////////////////////////////////////////////////
// File: “CPatrolEnemy.h”
//
// Author: Corey Ringer (CR)
//
// Purpose: This class serves as the base object for all enemies that have idle and active -
//			states to derive off of
//////////////////////////////////////////////////////////////////////////////////////////////////////

#ifndef PATROLENEMY_H_
#define PATROLENEMY_H_
#include "CBaseEnemy.h"

enum PatrolStates { Patrol = 0, pActive, pDead };


class CPatrolEnemy : public CBaseEnemy
{
	int m_nState;
	int m_nCurrentPatrolDistance;
	int m_nMaxPatrolDistance;

public:
	CPatrolEnemy(void);
	CPatrolEnemy(int nState, int nCurrentPatrolDistance, int nMaxPatrolDistance, int nType, int nImageID, 
				 int nMaxHP, int nCurrentHP,int nSightRange, int nAttackRange, float fRateOfFire, 
			     float fSpeed, int PosX, int PosY, int Width, int Height);

	~CPatrolEnemy(void);

	//////////////////////////////////////////////////////////////////////////////////////////////////////
	// Function: Accessors
	// 
	// Purpose : Returns the specified type.
	//////////////////////////////////////////////////////////////////////////////////////////////////////
	int GetCurrentDist() { return m_nCurrentPatrolDistance; };
	int GetMaxDist() { return m_nMaxPatrolDistance; };

	///////////////////////////////////////////////////////////////////////////////////////////////////////
	// Function: Modifiers 
	// 
	// Purpose: Modifies the specified type. 
	///////////////////////////////////////////////////////////////////////////////////////////////////////
	void SetCurrentDist(int Value) { m_nCurrentPatrolDistance = Value; };
	void SetMaxDist(int Value) { m_nMaxPatrolDistance = Value; };

	////////////////////////////////////////////////////////////////////////////////////
	//	Function : Update
	//
	//	Purpose : To update CBaseEnemy functionality.
	////////////////////////////////////////////////////////////////////////////////////
	virtual void Update(float fElapsedTime);

	////////////////////////////////////////////////////////////////////////////////////
	//	Function : Render
	//
	//	Purpose : To Render CBaseEnemy Objects to the Screen.
	////////////////////////////////////////////////////////////////////////////////////
	virtual void Render(void);

	////////////////////////////////////////////////////////////////////////////////////
	//	Function : ChangeAIState
	//
	//	Purpose : Changes the AI's current state based on update checks
	////////////////////////////////////////////////////////////////////////////////////
	void ChangeAIState(int nNewState);

	////////////////////////////////////////////////////////////////////////////////////
	//	Function : ReturnAIState
	//
	//	Purpose : Gets the current AI state
	////////////////////////////////////////////////////////////////////////////////////
	int ReturnAIState();
};

#endif